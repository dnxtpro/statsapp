<link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet" />

<div class=" d-flex flex-column justify-content-center align-items-center">
  <div class="row ">
<div @fadeIn class="d-flex justify-content-around align-items-around" >
  
      <button class="btn btn-primary" (click)="previousSet()">
        <i class="lni lni-shift-left"></i>
      </button>
      <button class="btn btn-secondary" (click)="showSet(1)">Mostrar Set 1</button>
      <button class="btn btn-primary" (click)="nextSet()"><i class="lni lni-shift-right"></i></button>
</div>
</div>
  
<div class="row" *ngIf="selectedSet && selectedSet.setNumber">
 <div class="col-6">
  <h2 class="text-white">Tabla de Aciertos - Set {{ selectedSet.setNumber }}</h2>
    <table class="table rounded-table custom-table2">
      <thead>
        <tr>
          <th class="custom-table text-center" scope="col">Player</th > 
          <th class="custom-table1 " scope="col">Saque</th >
          <th class="custom-table" scope="col">Ataque</th >
          <th class="custom-table1" scope="col">Zaguero</th >
          <th class="custom-table" scope="col">Finta</th >
          <th  class="custom-table1" scope="col">Bloqueo</th >
          <th class="custom-table" scope="col">Error Saque Rival</th >
          <th class="custom-table1" scope="col">Error Ataque Rival</th >
          <th class="custom-table" scope="col">EX Rival</th >
          <!-- Agrega otras columnas según sea necesario -->
        </tr>
      </thead>
      <tbody *ngFor="let player_name of getObjectKeys(selectedSet.data)">
        <tr >
          <td class="custom-table" scope="row">{{ player_name || 'Nombre Desconocido' }}</td>
          
          <td class="text-center">{{ selectedSet.data[player_name]?.Saque || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.Ataque || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.Zaguero || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.Finta || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.Bloqueo || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.ErrorSaqueRival || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.ErrorAtaqueRival || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.EXRival || 0 }}</td>
          <!-- Agrega otras celdas según sea necesario -->
        </tr>
      </tbody>
    </table>
    </div>
    <div class="col-6">
    <h2 class="text-white">Tabla de Fallos - Set {{ selectedSet.setNumber }}</h2>
    <table class="table custom-table2">
      <thead>
        <tr>
          <th class="custom-table" scope="col">Player</th >
          <th class="custom-table1"scope="col">FalloSaque</th >
          <th class="custom-table"scope="col">Fallo Ataque</th >
          
          <th class="custom-table1" scope="col">Gorro</th >
          <th class="custom-table"scope="col">Recepcion</th >
          <th class="custom-table1"scope="col">EX</th >
          <th class="custom-table"scope="col">Acierto Rival</th >
          <th class="custom-table1"scope="col">Acierto Zaguero Rival</th >  
          <th class="custom-table"scope="col">Acierto Finta Rival</th >
          <!-- Agrega otras columnas según sea necesario -->
        </tr>
      </thead>
      <tbody *ngFor="let player_name of getObjectKeys(selectedSet.data)">
        <tr >
          <td class="custom-table" scope="row">{{ player_name || 'Nombre Desconocido' }}</td>
         
          <td class="text-center">{{ selectedSet.data[player_name]?.FalloSaque || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.FalloAtaque || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.Gorro || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.Recepcion || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.EX || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.AciertoRival || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.AciertoZagueroRival || 0 }}</td>
          <td class="text-center">{{ selectedSet.data[player_name]?.AciertoFintaRival || 0 }}</td>

        </tr>
      </tbody>
    </table>
  </div>
  </div>
 
    
<div class="row" @fadedIn>
  <h2 class="text-white">Tabla Eficiencia Jugador</h2>
<table class="table custom-table2 col-6">
<thead>
  <tr class="text-center">
    <th class="custom-table text-center" scope="col">Player</th > 
    <th class="custom-table1 text-center" scope="col">Puntos Negativos</th >
    <th class="custom-table1 text-center" scope="col">% Negativos</th >
    <th class="custom-table text-center" scope="col">Puntos Positivos</th >
    <th class="custom-table text-center" scope="col">% Positivos</th >
    <th class="custom-table1 text-center" scope="col">Eficacia Negativa</th >
    <th class="custom-table1 text-center" scope="col">Eficacia Positiva</th >
  </tr>
</thead>
<tbody >
  <tr *ngFor="let jugador of resultadosPorJugador">
    <td scope="row" class="text-center custom-table">{{jugador.name}}</td>
    <td class="text-center">{{jugador.fallos}}</td>
    <td class="text-center">{{jugador.porcentajeNegativo+"%"}}</td>
    <td class="text-center">{{jugador.aciertos}}</td>
    <td class="text-center">{{jugador.porcentajePositivo+"%"}}</td>
    <td class="text-center">{{jugador.eficaciaPositiva+"%"}}</td>
    <td class="text-center">{{jugador.eficaciaNegativa+"%"}}</td>

</tbody>
    </table> 
  </div>

  <div class="row col-8" @fadedIn>
    <div class="card">
      <div class="card-header"><h2 >Grafico de Fallos/Aciertos</h2>
      </div>
    <div class="card-body  ">
  <ngx-charts-bar-vertical-2d
  *ngIf="currentView == 'combinado'"
    [scheme]="colorScheme"
    [results]="chartData"
    [xAxis]="true"
    [yAxis]="true"
    [legend]="true"
    [showXAxisLabel]="true"
    [showYAxisLabel]="true"
    [yAxisTickFormatting]="formatYAxisTicks" 
    
    xAxisLabel="Jugadores"
    yAxisLabel="Puntos"
     [roundEdges]="true"
  [groupPadding]="10"
    (select)="onSelect($event)"
  (activate)="onActivate($event)"
  (deactivate)="onDeactivate($event)">
  </ngx-charts-bar-vertical-2d>
</div>

</div>
 
  </div>
</div>


