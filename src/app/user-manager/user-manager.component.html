<div class="container-fluid d-flex justify-content-center align-items-center">
    <div class="col-sm-8  card mt-5">
<h2 class="card-header">GESTIONAR USUARIOS</h2>
<div class=" card-body shadow border-0 table-wrapper table-responsive">
<div class="mx-n4 mx-lg-n6 px-4 px-lg-6 mb-9 bg-body-emphasis border-y mt-2 position-relative top-1 co-6">
<div class="table-responsive scrollbar ms-n1 ps-1">
<table class="table table-sm fs-9 mb-0">
<thead>
    <tr>
    <th class="sort align-middle" scope="col"  ></th>
    <th class="sort align-middle" scope="col">Usuario</th>
    <th class="sort align-middle" scope="col">Correo</th>
    <th class="sort align-middle" scope="col">Rol</th>
    <th class="sort align-middle" scope="col">Creado el</th>
   

    </tr>
</thead>
<tbody class="table-group-divider">
    <tr class="hover-actions-trigger btn-reveal-trigger position-static" *ngFor="let user of users">
        <th class="align-middle ps-0 py-3" scope="row">{{user.id}}</th>
        <td class="align-middle ps-0 py-3">{{user.username}}</td>
        <td class="email align-middle white-space-nowrap" ><a class="fw-semibold" href="mailto:{{user.email}}"></a>{{user.email}}</td>
        <td class=" align-middle white-space-nowrap" ><div *ngFor="let role of user.roles">
            {{role.name}} 
            
        </div>
        <div class="form-check form-switch d-inline-block">
            <input class="form-check-input" type="checkbox" id="switchRole{{user.id}}" 
            [(ngModel)]="switchStates[user.id]"
                   (change)="toggleRoleSelector(user.id)">
            <label class="form-check-label" for="switchRole{{user.id}}"></label>
          </div>
            <div class="d-flex flex-column" *ngIf="showRoleSelector[user.id]">
                <!-- Checkboxes para seleccionar roles -->
                <label>
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [(ngModel)]="selectedRoles[user.id]['admin']"
                  />
                  Admin
                </label>
                <label>
                  <input
                  class="form-check-input"
                    type="checkbox"
                    [(ngModel)]="selectedRoles[user.id]['entrenador']"
                  />
                  Entrenador
                </label>
                <label>
                  <input
                  class="form-check-input"
                    type="checkbox"
                    [(ngModel)]="selectedRoles[user.id]['user']"
                  />
                  User
                </label>
                <button (click)="saveRoles(user.id)">Guardar</button>
              </div>
        </td>
        <td class="align-middle white-space-nowrap text-body-tertiary text-end" >{{formatDate(user.createdAt)}}</td>
        
        
    </tr>
</tbody>
</table>
</div>
</div>
</div>
    </div>
    </div>